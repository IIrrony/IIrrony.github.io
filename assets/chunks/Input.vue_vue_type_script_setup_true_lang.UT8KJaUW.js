import{d as M,am as D,p,L as O,h as P,q as T,c as t,o,n as U,ah as F,F as q,e as n,j as K,r as f,an as E,K as I,k as z,b as h,Z as L,ao as Z,P as G}from"./framework.B41b4LrZ.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang.DA1ejTYs.js";const oe=Symbol("formContextKey"),H=Symbol("formItemContextKey"),J={key:0,class:"vk-input__prepend"},Q={class:"vk-input__wrapper"},W={key:0,class:"vk-input__prefix"},X=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Y={key:1,class:"vk-input__append"},_=["disabled","readonly","autocomplete","placeholder","autofocus","form"],ee=M({name:"VKInput",inheritAttrs:!1}),le=M({...ee,props:{type:{default:"text"},modelValue:null,size:null,disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:null,readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:null},emits:["update:modelValue","input","change","focus","blur","clear"],setup(e,{expose:A,emit:N}){const u=e,l=N,w=D(),s=p(u.modelValue),r=p(!1),d=p(!1),c=p(),m=O(H),v=a=>{m==null||m.validate(a).catch(i=>console.log(i.errors))},V=P(()=>u.clearable&&!u.disabled&&!!s.value&&r.value),y=P(()=>u.showPassword&&!u.disabled&&!!s.value),$=()=>{d.value=!d.value},R=()=>{},S=async()=>{await G(),c.value.focus()},C=()=>{l("update:modelValue",s.value),l("input",s.value),v("input")},g=()=>{l("change",s.value),v("change")},x=a=>{r.value=!0,l("focus",a)},B=a=>{r.value=!1,l("blur",a),v("blur")},j=()=>{s.value="",l("update:modelValue",""),l("clear"),l("change",""),l("input","")};return T(()=>u.modelValue,a=>{s.value=a}),A({ref:c}),(a,i)=>(o(),t("div",{class:U(["vk-input",{[`vk-input--${e.type}`]:e.type,[`vk-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":a.$slots.prepend,"is-append":a.$slots.append,"is-prefix":a.$slots.prefix,"is-suffix":a.$slots.suffix,"is-focus":r.value}])},[e.type!=="textarea"?(o(),t(q,{key:0},[a.$slots.prepend?(o(),t("div",J,[f(a.$slots,"prepend")])):n("",!0),K("div",Q,[a.$slots.prefix?(o(),t("span",W,[f(a.$slots,"prefix")])):n("",!0),F(K("input",I({class:"vk-input__inner",ref_key:"inputRef",ref:c,type:e.showPassword?d.value?"text":"password":e.type},z(w),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":i[0]||(i[0]=k=>s.value=k),onInput:C,onChange:g,onFocus:x,onBlur:B}),null,16,X),[[E,s.value]]),a.$slots.suffix||V.value||y.value?(o(),t("span",{key:1,class:"vk-input__suffix",onClick:S},[f(a.$slots,"suffix"),V.value?(o(),h(b,{key:0,icon:"circle-xmark",class:"vk-input__clear",onClick:j,onMousedown:L(R,["prevent"])})):n("",!0),y.value&&d.value?(o(),h(b,{key:1,icon:"eye",class:"vk-input__password",onClick:$})):n("",!0),y.value&&!d.value?(o(),h(b,{key:2,icon:"eye-slash",class:"vk-input__password",onClick:$})):n("",!0)])):n("",!0)]),a.$slots.append?(o(),t("div",Y,[f(a.$slots,"append")])):n("",!0)],64)):F((o(),t("textarea",I({key:1,class:"vk-textarea__wrapper",ref_key:"inputRef",ref:c},z(w),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":i[1]||(i[1]=k=>s.value=k),onInput:C,onChange:g,onFocus:x,onBlur:B}),"       ",16,_)),[[Z,s.value]])],2))}});export{le as _,H as a,oe as f};
